package com.gamearcade.middleservicepublisher;

import com.gamearcade.eventpublisher.EventPublisherImpl;
import com.gamearcade.eventpublisher.IEventPublisher;
import com.gamearcade.gamepublisher.GamePublisherImpl;
import com.gamearcade.gamepublisher.IGamePublisher;
import com.gamearcade.instructionpublisher.IInstruction;
import com.gamearcade.instructionpublisher.IInstructionImpl;

import java.util.Scanner;

public class IMiddleServiceImpl implements IMiddleService {

	  IEventPublisher eventPublisher;
	  IInstruction instructinPublisher;
	  IGamePublisher gamePublisher;
	//IQuizPublisher quizPublisher;
	  private static IMiddleServiceImpl instance;
	
	//constructor
	private IMiddleServiceImpl() {
		eventPublisher = new EventPublisherImpl();
		instructinPublisher = new IInstructionImpl();
		gamePublisher = new GamePublisherImpl();
		//quizPublisher = new QuizPublisherImpl();
	}
	
	public static IMiddleServiceImpl getMidService() {
		
		if(instance == null) {
			instance = new IMiddleServiceImpl();
		}
		
		return instance;
	}
	
	@Override
	public void chooseConsumer() {
		int choice;
        boolean ex = true;
        Scanner scanner = new Scanner(System.in);
        do {
        	System.out.println("-----------------------------------------------------------------");
            System.out.println("             ~ Welcome to Game Arcade System ~ ");
            System.out.println("-----------------------------------------------------------------");
            System.out.println("Enter your choice to continue:");
            System.out.println("1. Instructions");//Admin
            System.out.println("2. Event Organizer");
            System.out.println("3. Player");
            System.out.println("4. Developer");
            System.out.println("5. Exit");
            choice = scanner.nextInt();
            scanner.nextLine();
            switch (choice) {
                case 1:
                	instructinPublisher.chooseAnOption("Instruction");
                    break;
                case 2:
                    this.selectEventOrganizerOpt();
                    break;
                case 3: 
                	this.selectPlayerOpt();
                	break;
                case 4: 
                	this.selectDevloperOpt();
                	break;
                case 5: 
                	System.out.println("Exiting...Thank you!\n");
                	ex = false;
                	break;
                default:
                    System.out.println("Invalid choice");
            }

        } while (ex);
		
	}

	@Override
	public void selectPlayerOpt() {
		int choice;
        boolean ex = true;
        Scanner scanner = new Scanner(System.in);
        do {
            System.out.println("Dear Player,\nPlease enter your choice to continue:");
            System.out.println("1. Play a game");
            System.out.println("2. View Instructions");
            System.out.println("3. View GameDetails");
            System.out.println("4. View Event Details");
            System.out.println("6. Exit");
            choice = scanner.nextInt();
            scanner.nextLine();
            switch (choice) {
                case 1:
                	gamePublisher.selectPlayerType();
                    break;
                case 2:
                	instructinPublisher.chooseAnOption("Instruction");
                    break;
//                case 3:
//                    quizPublisher.addNewQuiz();
//                    break;
                case 4:
                	eventPublisher.viewAllEvents();
                    break;
                case 6: 
                	System.out.println("Exiting...\n");
                	ex = false;
                	break;
                default:
                    System.out.println("Invalid choice");
            }
        } while (ex);
		
	}

	@Override
	public void selectEventOrganizerOpt() {
		
		eventPublisher.selectOption("eventOrganizer");
		
	}

//	@Override
//	public void selectInstructionOpt() {
//		int choice;
//        boolean ex = true;
//        Scanner scanner = new Scanner(System.in);
//        do {
//            System.out.println("Dear User,\nPlease enter your choice to continue:");
//            System.out.println("Select your choice(1-5) :");
//			System.out.println("1 - Add a Instruction");
//			System.out.println("2 - View Instructions");
//			System.out.println("3 - Update Instruction details ");
//			System.out.println("4 - Delete Instruction details");
//			System.out.println("5 - Exit");
//            choice = scanner.nextInt();
//            scanner.nextLine();
//            switch (choice) {
//                case 1:
//                	instructinPublisher.chooseAnOption("Instruction");
//                    break;
////                case 2:
////                	instructinPublisher.chooseAnOption("admin");
////                    break;
////                case 3: 
////                	instructinPublisher.chooseAnOption("admin");
////                	break;
////                case 4: 
////                	instructinPublisher.chooseAnOption("admin");
////                	break;
//                case 5: 
//                	System.out.println("Exiting...\n");
//                	ex = false;
//                	break;
//                default:
//                    System.out.println("Invalid choice");
//            }
//        } while (ex);
//		
//	}

	@Override
	public void selectDevloperOpt() {
		// TODO Auto-generated method stub
		
	}

		
}
